<html>
<head>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"> </script>   
</head> 
<body>
<div id="output" style="font-family:courier;font-size:24px;height=300px"></div>    
</body> 
<script>
    const outp = document.getElementById('output');
    async function run(){
        const MODEL_URL = 'http://127.0.0.1:8887/MGC/model.json';
        const model = await tf.loadLayersModel(MODEL_URL);
        console.log(model.summary());
        const input = tf.randomUniform([1, 26]); 
        console.log("input is ",input);
        const result = model.predict(input);
        function indexOfMax(arr) {
        if (arr.length === 0) {
        return -1;
        }
        var max = arr[0];
        var maxIndex = 0;
        for (var i = 1; i < arr.length; i++) {
        if (arr[i] > max) {
            maxIndex = i;
            max = arr[i];
            }
        }
        return maxIndex;
        }
        var i = indexOfMax(result)
        var genres = ["blues", "classical", "country", "disco", "hiphop", "jazz" ,"metal", "pop" ,"reggae", "rock"]
        
    
        outp.innerHTML += genres[i];
            }
	
	run();
</script>
</html>
